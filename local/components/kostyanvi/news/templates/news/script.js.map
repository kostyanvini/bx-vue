{"version":3,"file":"script.js","sources":["vue/src/components/Loader.vue","vue/src/components/News.vue","vue/src/components/NewsDetail.vue","vue/src/router.js","vue/src/store.js","vue/src/components/App.vue","vue/src/main.js"],"sourcesContent":["<template>\r\n    <div class=\"news-loader\">\r\n        <div class=\"container\">\r\n            <div class=\"yellow\"></div>\r\n            <div class=\"red\"></div>\r\n            <div class=\"blue\"></div>\r\n            <div class=\"violet\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Loader'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n:root {\r\n    --yellow: #feb60a;\r\n    --red: #ff0062;\r\n    --blue: #00dbf9;\r\n    --violet: #da00f7;\r\n}\r\n\r\ndiv.container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.news-loader .container > div {\r\n    width: 3vw;\r\n    height: 3vw;\r\n    border-radius: 100%;\r\n    margin: 2vw;\r\n    background-image: linear-gradient(145deg, rgba(255, 255, 255, 0.5) 0%, rgba(0, 0, 0, 0) 100%);\r\n    animation: bounce 1.5s 0.5s linear infinite;\r\n}\r\n\r\n.yellow {\r\n    background-color: var(--yellow);\r\n}\r\n\r\n.red {\r\n    background-color: var(--red);\r\n    animation-delay: 0.1s;\r\n}\r\n\r\n.blue {\r\n    background-color: var(--blue);\r\n    animation-delay: 0.2s;\r\n}\r\n\r\n.violet {\r\n    background-color: var(--violet);\r\n    animation-delay: 0.3s;\r\n}\r\n\r\n@keyframes bounce {\r\n    0%, 50%, 100% {\r\n        transform: scale(1);\r\n        filter: blur(0px);\r\n    }\r\n    25% {\r\n        transform: scale(0.6);\r\n        filter: blur(3px);\r\n    }\r\n    75% {\r\n        filter: blur(3px);\r\n        transform: scale(1.4);\r\n    }\r\n}\r\n</style>","<template>\r\n    <div class=\"news\">\r\n        <Loader v-if=\"isLoaded\"></Loader>\r\n        <div v-else class=\"news__item\" v-for=\"el in news\" :key=\"el.ID\">\r\n            <div class=\"news__item-image\">\r\n                <img :src=\"el.PREVIEW_PICTURE.SRC\" :alt=\"el.PREVIEW_PICTURE.ALT\">\r\n            </div>\r\n            <div class=\"news__item-info\">\r\n                <a href=\"javascript:void(0)\" @click=\"$router.push(el.ID)\" class=\"news__item-title\">\r\n                    {{ el.NAME }}\r\n                </a>\r\n                <div class=\"news__item-text\" v-html=\"el.PREVIEW_TEXT\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Loader from './Loader.vue';\r\n\r\nexport default {\r\n    name: 'News',\r\n    components: {\r\n        Loader\r\n    },\r\n    props: {\r\n        componentParams: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            news: [],\r\n            isLoaded: true,\r\n        }\r\n    },\r\n    created() {\r\n        if (this.$store.state.news.length) {\r\n            this.news = this.$store.state.news;\r\n            this.isLoaded = false\r\n        } else {\r\n            BX.ajax.runComponentAction(this.componentParams.componentName, this.componentParams.getAllNews, {\r\n                    mode: 'class',\r\n                    signedParameters: this.componentParams.signedParameters,\r\n                    data: {},\r\n                }\r\n            ).then((responce => {\r\n                    const news = responce.data;\r\n                    this.news = news;\r\n                    this.$store.commit('setAllNews', news);\r\n                    this.isLoaded = false\r\n                })\r\n            ).catch(err => warn(err))\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.news {\r\n    &__item {\r\n        display: flex;\r\n\r\n        &:not(:last-child) {\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        &-image {\r\n            max-width: 100px;\r\n            margin-right: 20px;\r\n\r\n            img {\r\n                width: 100%;\r\n            }\r\n        }\r\n\r\n        &-title {\r\n            font-size: 20px;\r\n            line-height: 24px;\r\n            margin-bottom: 20px;\r\n            display: block;\r\n        }\r\n\r\n        &-text {\r\n            font-size: 16px;\r\n        }\r\n    }\r\n}\r\n</style>","<template>\r\n    <div class=\"detail-news\">\r\n        <Loader v-if=\"isLoaded\"></Loader>\r\n        <div v-else>\r\n            <router-link to=\"/\" class=\"rollback\">Go back</router-link>\r\n            <div class=\"detail-news__info\">\r\n                <div class=\"detail-news__info-name\">\r\n                    {{ newsDetailInfo.NAME }}\r\n                </div>\r\n                <div class=\"detail-news__info-text\" v-html=\"newsDetailInfo.DETAIL_TEXT\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Loader from \"./Loader.vue\";\r\n\r\nexport default {\r\n    name: 'DetailNews',\r\n    components: {Loader},\r\n    props: {\r\n        componentParams: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            isLoaded: true,\r\n            newsDetailInfo: {}\r\n        }\r\n    },\r\n    created() {\r\n        if (this.$store.state.newsCache[+this.$route.params.id]) {\r\n            this.newsDetailInfo = this.$store.state.newsCache[+this.$route.params.id];\r\n            this.isLoaded = 0\r\n        } else {\r\n            BX.ajax.runComponentAction(this.componentParams.componentName, this.componentParams.getNewsByID, {\r\n                    mode: 'class',\r\n                    signedParameters: this.componentParams.signedParameters,\r\n                    data: {\r\n                        id: +this.$route.params.id\r\n                    },\r\n                }\r\n            ).then((responce => {\r\n                    const result = responce.data;\r\n                    this.newsDetailInfo = result;\r\n                    this.$store.commit('registerNewNewsCache', result);\r\n                    this.isLoaded = false\r\n                })\r\n            ).catch(e => console.warn(e));\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.detail-news {\r\n    .rollback {\r\n        margin-bottom: 20px;\r\n        font-size: 24px;\r\n        line-height: 26px;\r\n        text-decoration: none;\r\n        display: block;\r\n    }\r\n\r\n    &__info {\r\n        &-name {\r\n            margin-bottom: 20px;\r\n            font-size: 30px;\r\n            line-height: 36px;\r\n        }\r\n\r\n        &-text {\r\n            font-size: 18px;\r\n        }\r\n    }\r\n}\r\n</style>","import {VueRouter} from 'ui.vue';\r\nimport News from \"./components/News.vue\";\r\nimport NewsDetail from \"./components/NewsDetail.vue\";\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: News\r\n\t},\r\n\t{\r\n\t\tpath: '/:id',\r\n\t\tcomponent: NewsDetail\r\n\t}\r\n]\r\n\r\nconst router = VueRouter.create({\r\n\tmode: 'history',\r\n\troutes,\r\n\tbase: '/news/'\r\n});\r\n\r\n\r\nexport default router;","import {Vuex} from 'ui.vue.vuex';\r\n\r\nconst store = Vuex.createStore({\r\n\tstate: {\r\n\t\tnewsCache: {},\r\n\t\tnews: []\r\n\t},\r\n\tmutations: {\r\n\t\tregisterNewNewsCache(store, newValue) {\r\n\t\t\tstore.newsCache[newValue.ID] = newValue;\r\n\t\t},\r\n\t\tsetAllNews(store, news) {\r\n\t\t\tstore.news = news;\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport default store;","<template>\r\n    <router-view :componentParams=\"componentParams\"></router-view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'App',\r\n    props: {\r\n        componentParams: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","import {BitrixVue} from 'ui.vue';\r\nimport router from \"./router.js\";\r\nimport store from \"./store\";\r\n\r\nimport App from \"./components/App.vue\";\r\n\r\nexport function init(node, bxProps) {\r\n\tBitrixVue.createApp({\r\n\t\trouter,\r\n\t\tstore,\r\n\t\trender: h => h(App, {\r\n\t\t\tprops: {\r\n\t\t\t\tcomponentParams: bxProps\r\n\t\t\t}\r\n\t\t})\r\n\t}).mount(node);\r\n}"],"names":["VueRouter","Vuex","BitrixVue"],"mappings":"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"}